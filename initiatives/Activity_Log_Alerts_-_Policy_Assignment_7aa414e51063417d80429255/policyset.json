{
 "properties": {
  "displayName": "Activity Log Alerts - Policy Assignment",
  "policyType": "Custom",
  "description": "Initiative that ensure the following Alerts are setup for Policy Assignments:\n\"Microsoft.Authorization/policyAssignments/write\",\n\"Microsoft.Authorization/policyAssignments/delete\"",
  "metadata": {
   "category": "Custom Policies",
   "version": "1.0",
   "createdBy": "20857a0c-5f1e-4ad9-b3d3-205ddb8b8799",
   "createdOn": "2021-02-28T14:33:56.9981559Z",
   "updatedBy": "20857a0c-5f1e-4ad9-b3d3-205ddb8b8799",
   "updatedOn": "2021-02-28T14:38:05.5899141Z"
  },
  "parameters": {
   "ActionGroupName": {
    "type": "String",
    "metadata": {
     "displayName": "Action Group Name",
     "description": "Type the action group name to use with these alerts"
    }
   },
   "PolicyAssignmentCreateUpdateAlertName": {
    "type": "String",
    "metadata": {
     "displayName": "Alert Name - Policy Assignment Create - Update",
     "description": "Provide the name of the Alert Name for Policy Assignment Create and Update"
    }
   },
   "PolicyAssignmentDeleteAlertName": {
    "type": "String",
    "metadata": {
     "displayName": "Alert Name - Policy Assignment Delete",
     "description": "Provide the alert name for Policy Assignment Delete"
    }
   },
   "AlertResourceGroupName": {
    "type": "String",
    "metadata": {
     "displayName": "Alert Resource Group Name",
     "description": "Provide the resource group name that the alert should be stored at",
     "strongType": "existingResourceGroups"
    }
   }
  },
  "policyDefinitions": [
   {
    "policyDefinitionReferenceId": "Alert Monitor Policy Assignment Rule Create and Update",
    "policyDefinitionId": "/providers/Microsoft.Management/managementGroups/78dd488d-892f-4724-9861-9486288f62b8/providers/Microsoft.Authorization/policyDefinitions/29eee609-6fcb-4ec4-80a5-9debd82d31e1",
    "parameters": {
     "actionGroupName": {
      "value": "[parameters('ActionGroupName')]"
     },
     "activityLogAlertName": {
      "value": "[parameters('PolicyAssignmentCreateUpdateAlertName')]"
     },
     "ActivityLogAlertResourceGroupName": {
      "value": "[parameters('AlertResourceGroupName')]"
     },
     "operationName": {
      "value": "Microsoft.Authorization/policyAssignments/write"
     }
    },
    "groupNames": []
   },
   {
    "policyDefinitionReferenceId": "Alert Monitor Policy Assignment Rule Delete",
    "policyDefinitionId": "/providers/Microsoft.Management/managementGroups/78dd488d-892f-4724-9861-9486288f62b8/providers/Microsoft.Authorization/policyDefinitions/29eee609-6fcb-4ec4-80a5-9debd82d31e1",
    "parameters": {
     "actionGroupName": {
      "value": "[parameters('ActionGroupName')]"
     },
     "activityLogAlertName": {
      "value": "[parameters('PolicyAssignmentDeleteAlertName')]"
     },
     "ActivityLogAlertResourceGroupName": {
      "value": "[parameters('AlertResourceGroupName')]"
     },
     "operationName": {
      "value": "Microsoft.Authorization/policyAssignments/delete"
     }
    },
    "groupNames": []
   }
  ],
  "policyDefinitionGroups": []
 },
 "id": "/providers/Microsoft.Management/managementGroups/78dd488d-892f-4724-9861-9486288f62b8/providers/Microsoft.Authorization/policySetDefinitions/7aa414e51063417d80429255",
 "type": "Microsoft.Authorization/policySetDefinitions",
 "name": "7aa414e51063417d80429255"
}